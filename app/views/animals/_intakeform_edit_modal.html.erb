<% modal ||= false %>
<% remote = modal ? true : false %>

<!-- Intake fill in information -->
<!-- Is this going to throw an error because all the other stuff aren't in here = Check validations? --> 
<%= form_for(edit_intake, remote: remote, url: url_for(action: 'editIntake', intake_id: intake_id, controller: 'intake', method: 'patch')) do |f| %>

    <%= f.hidden_field :animal_id, value: animal_id%>
    <%= hidden_field_tag "intake_id", intake_id%>
    
    <%= f.label :current_entry, "Current Entry" %>
    <%= f.check_box :current_entry, class: 'form-control' %>
    
    <%= f.label :intake_date, "Intake Date" %>
    <%= f.text_field :intake_date, class: 'datepicker' %>

    <%= f.label :sub_status, class: 'control-label' %><br>
    <%= f.collection_select :sub_status_id, SubStatusType.all, :id, :name, {:prompt => "Select SubStatus"}, class: 'form-control' %> 

    <!-- Selecting Foster-->
    <%= f.label :intake_fost, "Foster"%>
    <%=collection_select(:intake_fost, :foster_id, fosters, :email, :name, {:prompt => "Select foster" ,:selected => curr_foster}) %>

    <%= f.label :vet_id, "Veterinarian"%>
    <%= f.collection_select :vet_id, Veterinarian.all, :id, :name, {:prompt => "Select Current Veterinarian"}, class: 'form-control'  %>

    <!-- Selecting Previous Location-->
    <%= f.label :animal_facility_id, "Previous Location"%>
    <%= f.collection_select :animal_facility_id, AnimalFacility.all, :id, :name, {:prompt => "Select Previous Location"} , class: 'form-control' %>

    <!-- Inputing Details-->
    <%= f.label :comments, "Comments" %>
    <%= f.text_field :comments, class: 'form-control' %>

    <%= f.submit 'Submit', class: 'btn btn-primary' %>
<% end %>

<script>
  $('.datepicker').datepicker({
    endDate: '-0d'
  });
</script>